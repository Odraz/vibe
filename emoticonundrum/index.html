<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoticonundrum</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overscroll-behavior: none; /* Prevents pull-to-refresh on mobile */
        }
        .chat-bubble {
            padding: 8px 12px;
            border-radius: 18px;
            max-width: 70%;
            word-wrap: break-word;
        }
        .player-message .chat-bubble {
            background-color: #007bff; /* Tailwind: bg-blue-500 */
            color: white;
            margin-left: auto;
        }
        .system-message .chat-bubble {
            background-color: #e9ecef; /* Tailwind: bg-gray-200 */
            color: #333; /* Tailwind: text-gray-800 */
            margin-right: auto;
        }
        .emoji-button {
            transition: transform 0.1s ease-in-out;
        }
        .emoji-button:active {
            transform: scale(0.9);
        }
        .emoji-grid-item.locked {
            opacity: 0.3;
            filter: grayscale(100%);
        }
        #message-list {
            scroll-behavior: smooth;
        }
        /* Custom scrollbar for webkit browsers */
        #message-list::-webkit-scrollbar, #emoji-palette::-webkit-scrollbar, #unlocked-emojis-grid-container::-webkit-scrollbar { /* Corrected ID */
            width: 8px;
        }
        #message-list::-webkit-scrollbar-track, #emoji-palette::-webkit-scrollbar-track, #unlocked-emojis-grid-container::-webkit-scrollbar-track { /* Corrected ID */
            background: #f1f1f1;
            border-radius: 10px;
        }
        #message-list::-webkit-scrollbar-thumb, #emoji-palette::-webkit-scrollbar-thumb, #unlocked-emojis-grid-container::-webkit-scrollbar-thumb { /* Corrected ID */
            background: #888;
            border-radius: 10px;
        }
        #message-list::-webkit-scrollbar-thumb:hover, #emoji-palette::-webkit-scrollbar-thumb:hover, #unlocked-emojis-grid-container::-webkit-scrollbar-thumb:hover { /* Corrected ID */
            background: #555;
        }
        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
            text-align: center;
        }
        .modal-close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .modal-close-button:hover,
        .modal-close-button:focus {
            color: black;
            text-decoration: none;
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen p-2 sm:p-4">

    <div id="game-container" class="w-full max-w-2xl bg-white shadow-xl rounded-lg flex flex-col h-[95vh] sm:h-[90vh]">
        <header class="bg-blue-600 text-white p-4 rounded-t-lg">
            <h1 class="text-2xl font-bold text-center">Emoticonundrum</h1>
            <p id="progress-counter" class="text-sm text-center mt-1">Discovered: 0 / 0</p>
        </header>

        <div id="chat-window" class="flex-grow p-4 overflow-y-auto bg-gray-50">
            <div id="message-list" class="space-y-3">
                <div class="system-message flex">
                    <div class="chat-bubble text-sm">
                        Welcome! Create emoji posts to unlock new emojis. Start with â¤ï¸ğŸ˜†ğŸ˜®ğŸ˜¥ğŸ˜¡ğŸ‘. Good luck!
                        <button id="show-instructions-button" class="ml-2 text-xs underline text-blue-500">(Show Full Instructions)</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="current-post-display" class="p-3 border-t bg-gray-100 text-2xl min-h-[50px] text-center break-all"></div>

        <div id="input-controls" class="p-3 border-t bg-gray-200 flex items-center gap-2">
            <button id="backspace-button" class="px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-lg">âŒ«</button>
            <div class="flex-grow text-center">
                 <button id="send-button" class="px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-semibold text-lg">Send</button>
            </div>
            <button id="toggle-unlocked-view-button" class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 text-lg">ğŸ“–</button>
        </div>

        <div id="emoji-palette-container" class="border-t bg-gray-50 p-1">
            <p class="text-xs text-center text-gray-500 mb-1">Your Emoji Palette (Tap to add to post)</p>
            <div id="emoji-palette" class="grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 gap-1 p-2 max-h-32 overflow-y-auto justify-items-center">
                </div>
        </div>
    </div>

    <div id="unlocked-emojis-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xl max-h-[80vh] flex flex-col">
            <div class="flex justify-between items-center mb-3">
                <h2 class="text-xl font-semibold">All Discoverable Emojis</h2>
                <button id="close-unlocked-view-button" class="text-2xl font-bold text-gray-600 hover:text-black">&times;</button>
            </div>
            <div id="unlocked-emojis-grid-container" class="flex-grow overflow-y-auto">
                <div id="unlocked-emojis-grid" class="grid grid-cols-5 sm:grid-cols-6 md:grid-cols-8 gap-2 text-2xl text-center">
                    </div>
            </div>
             <p class="text-xs text-center text-gray-500 mt-2">Emojis in full color are discovered. Greyed out ones are yet to be found.</p>
        </div>
    </div>

    <div id="instructions-modal" class="modal">
        <div class="modal-content">
            <span id="close-instructions-button" class="modal-close-button">&times;</span>
            <h2 class="text-xl font-bold mb-3">How to Play Emoticonundrum</h2>
            <div class="text-left space-y-2 text-sm">
                <p>ğŸ•µï¸â€â™‚ï¸ Your goal: Discover all hidden emojis!</p>
                <p>ğŸ¤” How:</p>
                <ol class="list-decimal list-inside ml-4 space-y-1">
                    <li>Craft "posts" by selecting emojis from your palette.</li>
                    <li>Hit "Send" to see the reaction.</li>
                    <li>New emojis received as reactions are unlocked and added to your palette.</li>
                    <li>If your post doesn't match any rule, you'll get ğŸ˜µâ€ğŸ’«.</li>
                </ol>
                <p>ğŸ’¡ Tips:</p>
                <ul class="list-disc list-inside ml-4 space-y-1">
                    <li>Experiment with different combinations and lengths.</li>
                    <li>Pay attention to the emojis you unlock â€“ they are clues!</li>
                    <li>Click ğŸ“– to see all possible emojis and your progress.</li>
                </ul>
                <p>âœ¨ Starting Emojis: â¤ï¸ ğŸ˜† ğŸ˜® ğŸ˜¥ ğŸ˜¡ ğŸ‘</p>
                <p>Good luck, and have fun decoding!</p>
            </div>
             <button id="instructions-modal-ok-button" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">Got it!</button>
        </div>
    </div>

    <div id="win-modal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-3 text-green-500">ğŸ‰ Congratulations! ğŸ‰</h2>
            <p class="text-lg mb-2">You've discovered all <span id="win-modal-total-emojis"></span> emojis!</p>
            <p class="mb-4">You are a true Emoticonundrum Master! ğŸ†</p>
            <button id="play-again-button" class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600">Play Again</button>
        </div>
    </div>

    <script>
        // Full CSV data provided by the user
        const csvData = `
Output Emoji,Output Name (Suggested),Category,Input Emojis,Notes
0ï¸âƒ£,Keycap 0,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 1)
1ï¸âƒ£,Keycap 1,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 2)
2ï¸âƒ£,Keycap 2,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 3)
3ï¸âƒ£,Keycap 3,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 4)
4ï¸âƒ£,Keycap 4,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 5)
5ï¸âƒ£,Keycap 5,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 6)
6ï¸âƒ£,Keycap 6,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 7)
7ï¸âƒ£,Keycap 7,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 8)
8ï¸âƒ£,Keycap 8,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 9)
9ï¸âƒ£,Keycap 9,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 10)
â˜€ï¸,Sun,Animals & Nature,ğŸ”¥ğŸ˜®,Fire in the sky (Surprising and bright)
â˜•,Hot Beverage (Coffee/Tea),Food & Drink,ğŸ’§ğŸ”¥,Hot drink
â˜˜ï¸,Shamrock,Symbols & Signs,ğŸŒ¿ğŸ’š,Lucky green plant (green heart unlocked later)
â™¾ï¸,Infinity,Symbols & Signs,ğŸ’¯ğŸ’¯,Numbers going on forever
âš°ï¸,Coffin,Activities & Objects,ğŸ’€ğŸ˜¥,Container for the deceased
âš±ï¸,Funeral Urn,Activities & Objects,âš°ï¸ğŸ”¥,Ashes after cremation
â›°ï¸,Mountain,Travel & Places,ğŸŒğŸ˜®,Large surprising feature of Earth
âœ‚ï¸,Scissors,Activities & Objects,ğŸ“„ğŸ˜¡,Cutting paper angrily (or with precision)
âœ‰ï¸,Envelope,Activities & Objects,ğŸ“œğŸ‘,For sending a message
âœï¸,Writing Hand,Gestures,ğŸ‘ğŸ’¡,Good idea to write down
âœ’ï¸,Black Nib,Activities & Objects,ğŸ–‹ï¸ğŸ–¤,Writing tool (fountain pen unlocked later)
âœ–ï¸,Multiply/Cross Mark,Symbols & Signs,â•â•,Repeated addition
âœ¨,Sparkles,Symbols & Signs,â­â­,Extra sparkly
â“,Question Mark,Symbols & Signs,ğŸ˜®ğŸ¤”,Surprised and thinking leads to a question
â—,Exclamation Mark,Symbols & Signs,ğŸ˜®ğŸ‘,Emphatic statement
â¤ï¸â€ğŸ©¹,Mending Heart,Symbols & Signs,ğŸ’”ğŸ‘,Healing a broken heart
â•,Plus,Symbols & Signs,1ï¸âƒ£1ï¸âƒ£,Addition
â–,Minus,Symbols & Signs,1ï¸âƒ£ğŸ˜¥,Subtraction (taking away makes sad)
â—,Divide,Symbols & Signs,ğŸ•ğŸ§‘â€ğŸ¤â€ğŸ§‘,Sharing pizza (people holding hands unlocked later)
â­,Star,Animals & Nature,ğŸŒ™âœ¨,Celestial body that sparkles (sparkles unlocked later)
ã€°ï¸,Wavy Dash,Symbols & Signs,ğŸŒŠğŸ’¨,Represents waves or flowing movement
ğŸŒˆ,Rainbow,Animals & Nature,â˜€ï¸ğŸ’§,Sun + Water = Rainbow
ğŸŒŠ,Water Wave (Ocean),Animals & Nature,ğŸŒğŸ’§,Earth's waters
ğŸŒ‹,Volcano,Travel & Places,â›°ï¸ğŸ”¥,Mountain with fire
ğŸŒ,Earth Globe Europe-Africa,Travel & Places,ğŸ’¯ğŸ˜®,The whole world is amazing
ğŸŒ™,Crescent Moon,Animals & Nature,ğŸŒğŸ˜´,Earth's companion at night (sleeping face unlocked later)
ğŸŒ­,Hot Dog,Food & Drink,ğŸğŸ¥©,Sausage in a bun (meat as sausage placeholder)
ğŸŒ®,Taco,Food & Drink,ğŸŒ½ğŸ¥©,Meat in a corn tortilla (corn
ğŸŒ¯,Burrito,Food & Drink,ğŸŒ®ğŸš,Taco with rice (rice unlocked later)
ğŸŒ°,Chestnut,Food & Drink,ğŸŒ³ğŸ”¥,Nut often roasted on an open fire
ğŸŒ±,Seedling (Plant),Animals & Nature,ğŸ‘ğŸ’§,Approving new life/growth with water
ğŸŒ²,Evergreen Tree,Animals & Nature,ğŸŒ³ğŸ¥¶,Tree that stays green in cold (cold face unlocked later)
ğŸŒ³,Deciduous Tree,Animals & Nature,ğŸŒ±ğŸ’§,Plant + Water = Tree
ğŸŒµ,Cactus,Animals & Nature,ğŸŒ±â˜€ï¸,Desert plant
ğŸŒ¶ï¸,Hot Pepper,Food & Drink,ğŸ”¥ğŸ˜¡,Spicy vegetable
ğŸŒ·,Tulip,Animals & Nature,ğŸŒ±ğŸ©·,Plant with pink love
ğŸŒ·,Tulip,Animals & Nature,ğŸŒ±â¤ï¸,Common garden flower
ğŸŒ¸,Cherry Blossom,Animals & Nature,ğŸŒ³ğŸ©·,Flowering tree
ğŸŒ¹,Rose,Animals & Nature,ğŸŒ·ğŸ’”,Flower often associated with romance (and thorns/pain)
ğŸŒº,Hibiscus,Animals & Nature,ğŸŒ·â˜€ï¸,Tropical flower
ğŸŒ»,Sunflower,Animals & Nature,ğŸŒ·â˜€ï¸,Flower that follows the sun
ğŸŒ¼,Blossom,Animals & Nature,ğŸŒ·ğŸ˜Š,Simple
ğŸŒ½,Ear of Corn,Food & Drink,ğŸŒ¾ğŸ’›,Yellow grain vegetable
ğŸŒ¾,Sheaf of Rice,Food & Drink,ğŸŒ±â˜€ï¸,Grain plant grown in sun
ğŸŒ¿,Herb,Animals & Nature,ğŸŒ±ğŸ‘,Useful plant
ğŸ€,Four Leaf Clover,Symbols & Signs,â˜˜ï¸â­,Extra lucky shamrock
ğŸ,Maple Leaf,Animals & Nature,ğŸŒ³â¤ï¸,Iconic leaf
ğŸ„,Mushroom,Animals & Nature,ğŸŒ³ğŸ’§,Fungus that grows in damp places near trees
ğŸ…,Tomato,Food & Drink,ğŸ“ğŸ˜¡,"Fruit or vegetable? Often debated, red."
ğŸ†,Eggplant,Food & Drink,ğŸ’œğŸŒ±,Purple vegetable (purple heart unlocked later)
ğŸ‡,Grapes,Food & Drink,ğŸŒ±ğŸ’œ,Plant with purple love (for wine/juice)
ğŸˆ,Melon,Food & Drink,ğŸ‡â˜€ï¸,Large
ğŸ‰,Watermelon,Food & Drink,ğŸˆğŸ’§,Melon with lots of water
ğŸŠ,Tangerine/Orange,Food & Drink,ğŸˆâ˜€ï¸,Citrus fruit
ğŸ‹,Lemon,Food & Drink,ğŸŠğŸ˜¥,Sour citrus fruit
ğŸŒ,Banana,Food & Drink,ğŸ’ğŸ’›,Fruit monkeys like (yellow heart unlocked later)
ğŸ,Pineapple,Food & Drink,ğŸŒ³â­,Tropical fruit with a crown
ğŸ,Red Apple,Food & Drink,ğŸŒ³â¤ï¸,Common fruit from a tree
ğŸ,Green Apple,Food & Drink,ğŸğŸ’š,Different color apple (green heart unlocked later)
ğŸ,Pear,Food & Drink,ğŸğŸ’§,Fruit with a teardrop shape
ğŸ‘,Peach,Food & Drink,ğŸğŸ¥°,Soft
ğŸ’,Cherries,Food & Drink,ğŸ‘â¤ï¸,Small
ğŸ“,Strawberry,Food & Drink,â¤ï¸ğŸŒ±,Sweet red fruit from a plant
ğŸ”,Hamburger,Food & Drink,ğŸğŸ¥©,Burger patty in a bun (bread
ğŸ•,Pizza,Food & Drink,ğŸ§€ğŸ…,Cheese and tomato on dough (tomato unlocked later)
ğŸ–,Meat on Bone,Food & Drink,ğŸ¦´ğŸ”¥,Cooked meat
ğŸ—,Poultry Leg,Food & Drink,ğŸ”ğŸ”¥,Cooked chicken leg
ğŸ˜,Rice Cracker,Food & Drink,ğŸšğŸ”¥,Cooked rice snack
ğŸ™,Rice Ball,Food & Drink,ğŸšğŸ‘,Japanese rice snack
ğŸš,Cooked Rice,Food & Drink,ğŸŒ¾ğŸ’§,Grain cooked in water
ğŸœ,Steaming Bowl (Ramen),Food & Drink,ğŸšğŸ¥š,Noodle soup with egg
ğŸ,Spaghetti,Food & Drink,ğŸœğŸ…,Pasta with tomato sauce
ğŸ,Bread,Food & Drink,ğŸŒ¾ğŸ”¥,Baked grain
ğŸŸ,French Fries,Food & Drink,ğŸ¥”ğŸ”¥,Fried potatoes (potato unlocked later)
ğŸ ,Roasted Sweet Potato,Food & Drink,ğŸ¥”ğŸ”¥,Sweet version of potato
ğŸ¡,Dango,Food & Drink,ğŸšğŸ©·,Japanese sweet dumpling
ğŸ¢,Oden,Food & Drink,ğŸ¢ğŸ‘,Japanese dish (placeholder for skewer)
ğŸ£,Sushi,Food & Drink,ğŸšğŸŸ,Rice and raw fish (rice
ğŸ¤,Fried Shrimp,Food & Drink,ğŸ¦ğŸ”¥,Cooked shrimp
ğŸ¥,Fish Cake with Swirl,Food & Drink,ğŸŸğŸ¥,Japanese fish cake
ğŸ¦,Soft Ice Cream,Food & Drink,ğŸ¥¶ğŸ¥›,Cold dairy treat
ğŸ§,Shaved Ice,Food & Drink,ğŸ¥¶ğŸ’§,Frozen water treat
ğŸ¨,Ice Cream,Food & Drink,ğŸ¦ğŸ¥£,Ice cream in a bowl
ğŸ©,Doughnut,Food & Drink,ğŸğŸ¬,Sweet fried dough
ğŸª,Cookie,Food & Drink,ğŸ©ğŸ‘,Baked sweet treat
ğŸ«,Chocolate Bar,Food & Drink,ğŸ¤ğŸ¬,Sweet brown treat (candy unlocked later)
ğŸ¬,Candy,Food & Drink,ğŸ˜Šâœ¨,Sweet sparkly treat
ğŸ­,Lollipop,Food & Drink,ğŸ¬ğŸ‘,Candy on a stick
ğŸ®,Custard,Food & Drink,ğŸ¥šğŸ¥›,Sweet egg and milk dessert
ğŸ¯,Honey Pot,Food & Drink,ğŸğŸ’›,Sweet food from bees (bee
ğŸ°,Shortcake,Food & Drink,ğŸ‚ğŸ“,Cake with strawberries
ğŸ±,Bento Box,Food & Drink,ğŸšğŸ£,Japanese meal box (sushi unlocked later)
ğŸ²,Pot of Food (Stew),Food & Drink,ğŸ¥•ğŸ¥”,Vegetable stew
ğŸ³,Cooking (Fried Egg),Food & Drink,ğŸ¥šğŸ”¥,Egg cooked with fire
ğŸµ,Teacup Without Handle,Food & Drink,â˜•ğŸŒ¿,Tea
ğŸ¶,Sake,Food & Drink,ğŸšğŸ’§,Japanese rice wine
ğŸ·,Wine Glass,Food & Drink,ğŸ‡ğŸ’§,Drink made from grapes
ğŸ¸,Cocktail Glass,Food & Drink,ğŸ·ğŸ‹,Mixed alcoholic drink
ğŸ¹,Tropical Drink,Food & Drink,ğŸ¸ğŸ,Fruity cocktail
ğŸº,Beer Mug,Food & Drink,ğŸŒ¾ğŸ’§,Drink made from grains
ğŸ»,Clinking Beer Mugs,Food & Drink,ğŸºğŸº,Cheers with beer
ğŸ¼,Baby Bottle,Activities & Objects,ğŸ‘¶ğŸ¥›,Milk for a baby (baby unlocked later)
ğŸ¾,Bottle with Popping Cork,Food & Drink,ğŸ¥³ğŸ’§,Celebratory drink
ğŸ¿,Popcorn,Food & Drink,ğŸŒ½ğŸ”¥,Corn heated up
ğŸ,Wrapped Gift,Activities & Objects,ğŸ‰â¤ï¸,A loving surprise
ğŸ‚,Birthday Cake,Food & Drink,ğŸ¥³ğŸ•¯ï¸,Celebration cake with candle (candle unlocked later)
ğŸƒ,Jack-O-Lantern,Activities & Objects,ğŸ‘»ğŸ”¥,Spooky pumpkin with a light
ğŸ„,Christmas Tree,Activities & Objects,ğŸŒ³â­,Decorated tree for celebration
ğŸˆ,Balloon,Activities & Objects,ğŸ‰ğŸ’¨,Party item filled with air
ğŸ‰,Party Popper,Activities & Objects,ğŸ¥³ğŸ™Œ,Ultimate party celebration
ğŸŒ,Crossed Flags,Symbols & Signs,ğŸ‡¯ğŸ‡µğŸ‘,Japanese celebration (Japan flag unlocked later)
ğŸ¤,Microphone,Activities & Objects,ğŸ—£ï¸ğŸ‘,Tool for speaking/singing
ğŸ¥,Movie Camera,Activities & Objects,ğŸ¬ğŸ’¡,Tool for filming movies
ğŸ§,Headphones,Activities & Objects,ğŸ‘‚ğŸ¶,For listening to music
ğŸ¨,Artist Palette,Activities & Objects,ğŸŒˆğŸ‘,Tool for using many colors
ğŸ¬,Clapper Board,Activities & Objects,ğŸ¥ğŸ‘,Used when making movies
ğŸ®,Video Game,Activities & Objects,ğŸ’»ğŸ¥³,Fun on the computer
ğŸµ,Musical Note,Activities & Objects,ğŸ—£ï¸â¤ï¸,Singing with love
ğŸ¶,Musical Notes,Activities & Objects,ğŸµğŸµ,Multiple notes (musical note unlocked later)
ğŸ·,Saxophone,Activities & Objects,ğŸ¶ğŸ’›,Jazzy instrument
ğŸ¸,Guitar,Activities & Objects,ğŸ¶ğŸ’ª,Rock instrument
ğŸ¹,Musical Keyboard,Activities & Objects,ğŸ¶ğŸ’¯,Instrument with many keys
ğŸº,Trumpet,Activities & Objects,ğŸ¶ğŸ¥³,Brass instrument for fanfares
ğŸ»,Violin,Activities & Objects,ğŸ¶ğŸ˜¥,Instrument for melancholic tunes
ğŸ,Chequered Flag,Symbols & Signs,ğŸï¸ğŸ‘,End of the race (racecar unlocked later)
ğŸœï¸,Desert,Travel & Places,â˜€ï¸ğŸŒµ,Hot place with cacti (cactus unlocked later)
ğŸï¸,Desert Island,Travel & Places,ğŸŒŠğŸŒ´,Island with a palm tree (palm tree unlocked later)
ğŸï¸,National Park,Travel & Places,ğŸŒ³ğŸŒ³,Many trees make a park/forest
ğŸ ,House,Travel & Places,ğŸŒ³ğŸ‘,A good place to live
ğŸ¡,House with Garden,Travel & Places,ğŸ ğŸŒ±,House with plants
ğŸ¢,Office Building,Travel & Places,ğŸ ğŸ’¼,Building for work (briefcase unlocked later)
ğŸ¥,Hospital,Travel & Places,ğŸ ğŸ˜¥,Place you go when sick/sad
ğŸ¦,Bank,Travel & Places,ğŸ ğŸ’°,Place to store money
ğŸ¨,Hotel,Travel & Places,ğŸ ğŸ˜´,Place to sleep when traveling
ğŸ­,Factory,Travel & Places,ğŸ¢ğŸ’¨,Building that produces smoke
ğŸ°,Castle,Travel & Places,ğŸ‘‘ğŸ ,Royal house
ğŸ³ï¸,White Flag,Symbols & Signs,ğŸ˜¥ğŸ¤,Surrender or peace
ğŸ³ï¸â€âš§ï¸,Transgender Flag,Symbols & Signs,ğŸ©·ğŸ¤,Trans pride (uses pink and white hearts)
ğŸ³ï¸â€ğŸŒˆ,Rainbow Flag,Symbols & Signs,ğŸŒˆâ¤ï¸,Pride flag
ğŸ´,Black Flag,Symbols & Signs,ğŸ˜¡ğŸ–¤,Anarchy or rebellion
ğŸ´â€â˜ ï¸,Pirate Flag,Fantasy & Concepts,ğŸ’€ğŸŒŠ,Skull and crossbones for sea robbers
ğŸ€,Rat,Animals & Nature,ğŸğŸ˜¡,Larger
ğŸ,Mouse,Animals & Nature,ğŸ¾ğŸ§€,Small animal that likes cheese (alt to face)
ğŸ‚,Ox,Animals & Nature,ğŸ®ğŸ’ª,Strong working bovine
ğŸƒ,Water Buffalo,Animals & Nature,ğŸ®ğŸ’§,Bovine found near water
ğŸ„,Cow,Animals & Nature,ğŸŒ±ğŸ¥›,Animal that eats grass and gives milk (milk unlocked later)
ğŸ…,Tiger,Animals & Nature,ğŸ±ç¸,Striped big cat (using Kanji for stripe as a placeholder concept)
ğŸ†,Leopard,Animals & Nature,ğŸ±ğŸ¾,Spotted big cat
ğŸ‡,Rabbit,Animals & Nature,ğŸ¾ğŸŒ±,Animal that eats plants (alt to face)
ğŸˆ,Cat,Animals & Nature,ğŸ¾ğŸŒ™,Nocturnal companion (alt to face)
ğŸŠ,Crocodile,Animals & Nature,ğŸŒŠğŸ˜¡,Large reptile predator in water
ğŸŒ,Snail,Animals & Nature,ğŸ›ğŸ’§,Slow
ğŸ,Snake,Animals & Nature,ğŸŒ±ğŸ˜¡,Slithering reptile
ğŸ,Horse,Animals & Nature,ğŸŒ±ğŸ’¨,Animal that eats grass and runs fast (alt to face)
ğŸ,Goat,Animals & Nature,â›°ï¸ğŸŒ±,Mountain-dwelling plant eater
ğŸ‘,Sheep,Animals & Nature,ğŸŒ±â˜ï¸,Fluffy animal that eats grass (cloud unlocked later)
ğŸ’,Monkey,Animals & Nature,ğŸŒ³ğŸ˜†,Playful animal in trees
ğŸ“,Rooster,Animals & Nature,ğŸ”â˜€ï¸,Male chicken
ğŸ”,Chicken,Animals & Nature,ğŸŒ±ğŸ¥š,Bird that eats seeds and lays eggs (egg unlocked later)
ğŸ•,Dog,Animals & Nature,ğŸ¾â¤ï¸,Loyal companion (alt to face)
ğŸ–,Pig,Animals & Nature,æ³¥ğŸ˜Š,Animal that likes mud (alt to face)
ğŸ—,Boar,Animals & Nature,ğŸ·ğŸŒ³,Wild pig from the forest
ğŸ˜,Elephant,Animals & Nature,ğŸŒğŸ‘ƒ,Large land animal with a trunk (nose)
ğŸ™,Octopus,Animals & Nature,ğŸŒŠğŸ§ ,Intelligent sea creature with many arms
ğŸ›,Bug,Animals & Nature,ğŸŒ±ğŸ˜®,Small creature found on plants
ğŸœ,Ant,Animals & Nature,ğŸ›ğŸ‘,Hard-working small insect
ğŸ,Honeybee,Animals & Nature,ğŸŒ±ğŸŒ»,Insect that collects pollen from flowers (sunflower unlocked later)
ğŸ,Lady Beetle,Animals & Nature,ğŸ›â¤ï¸,A well-liked bug
ğŸŸ,Fish,Animals & Nature,ğŸŒŠğŸ‘,Common sea creature
ğŸ ,Tropical Fish,Animals & Nature,ğŸŒŠâ¤ï¸,Colorful
ğŸ¡,Blowfish,Animals & Nature,ğŸŒŠğŸ˜®,Fish that puffs up when surprised
ğŸ¢,Turtle,Animals & Nature,ğŸ’§ğŸŒ,Slow animal
ğŸ¦,Bird,Animals & Nature,ğŸ’¨ğŸŒ±,Creature that flies and nests in plants
ğŸ§,Penguin,Animals & Nature,ğŸ’§ğŸ¥¶,Bird that lives in cold
ğŸ¨,Koala,Animals & Nature,ğŸ»ğŸŒ³,Bear-like animal that lives in trees
ğŸ©,Poodle,Animals & Nature,ğŸ•ğŸ’…,Fancy dog (nail polish unlocked later)
ğŸª,Camel (one hump),Animals & Nature,ğŸŒâ˜€ï¸,Desert animal
ğŸ«,Camel (two humps),Animals & Nature,ğŸªğŸª,More humps
ğŸ¬,Dolphin,Animals & Nature,ğŸŒŠğŸ˜†,Playful
ğŸ­,Mouse Face,Animals & Nature,ğŸ¾ğŸ§€,Small animal that likes cheese (cheese unlocked later)
ğŸ®,Cow Face,Animals & Nature,ğŸŒ±ğŸ¥›,Animal that eats grass and gives milk (milk unlocked later)
ğŸ¯,Tiger Face,Animals & Nature,ğŸ±ğŸ˜¡,Fierce large cat
ğŸ°,Rabbit Face,Animals & Nature,ğŸ¾ğŸŒ±,Animal that eats plants
ğŸ±,Cat Face,Animals & Nature,ğŸ¾ğŸŒ™,Nocturnal companion
ğŸ³,Spouting Whale,Animals & Nature,ğŸŒŠğŸ˜®,Large sea mammal that spouts water
ğŸ´,Horse Face,Animals & Nature,ğŸŒ±ğŸ’¨,Animal that eats grass and runs fast
ğŸ¶,Dog Face,Animals & Nature,ğŸ¾â¤ï¸,Loyal companion
ğŸ·,Pig Face,Animals & Nature,æ³¥ğŸ˜Š,Animal that likes mud (mud unlocked later)
ğŸ¸,Frog Face,Animals & Nature,ğŸ’§ğŸŒ±,Amphibian
ğŸ¹,Hamster Face,Animals & Nature,ğŸ­ğŸ˜Š,Cute small pet
ğŸº,Wolf Face,Animals & Nature,ğŸ¶ğŸŒ™,Wild canine
ğŸ»,Bear Face,Animals & Nature,ğŸ¾ğŸ¯,Animal that loves honey (honey unlocked later)
ğŸ¼,Panda Face,Animals & Nature,ğŸ»ğŸŒ±,Bear that eats bamboo (plant)
ğŸ¾,Paw Prints,Animals & Nature,ğŸŒ³ğŸ‘€,Animal tracks seen in nature
ğŸ¿ï¸,Chipmunk/Squirrel,Animals & Nature,ğŸŒ³ğŸŒ°,Small rodent that gathers nuts (chestnut unlocked later)
ğŸ‘€,Eyes,Faces & Emotions,ğŸ˜®ğŸ˜®,Wide eyes of surprise (alt to single ğŸ˜®)
ğŸ‘‚,Ear,Faces & Emotions,ğŸ˜®ğŸ—£ï¸,Listening intently to speech
ğŸ‘ƒ,Nose,Faces & Emotions,ğŸ˜®ğŸ˜¤,Part of a face
ğŸ‘…,Tongue,Faces & Emotions,ğŸ˜†ğŸ˜‹,Sticking tongue out playfully (face savoring food unlocked later)
ğŸ‘Œ,OK Hand,Gestures,ğŸ˜®ğŸ‘,Surprised
ğŸ‘‘,Crown,Activities & Objects,â­ğŸ’›,Royal golden item
ğŸ‘»,Ghost,Fantasy & Concepts,ğŸ’€ğŸ’¨,Spirit from remains
ğŸ‘½,Alien,Fantasy & Concepts,ğŸŒâ­,From Earth to the stars (visitor)
ğŸ’€,Skull,Faces & Emotions,ğŸ¦´ğŸ˜¥,Bone + sadness = skull (death)
ğŸ’„,Lipstick,Activities & Objects,ğŸ’‹â¤ï¸,For lovely lips (kiss mark unlocked later)
ğŸ’‹,Kiss Mark,Symbols & Signs,ğŸ˜˜ğŸ’„,Mark left by a kiss with lipstick
ğŸ’Œ,Love Letter,Symbols & Signs,â¤ï¸âœ‰ï¸,A letter full of love (envelope unlocked later)
ğŸ’,Ring,Activities & Objects,ğŸ’â¤ï¸,Precious gift of love
ğŸ’,Gem Stone,Activities & Objects,â­ğŸŒ,Precious stone from the earth
ğŸ’,Bouquet,Symbols & Signs,ğŸŒ¹ğŸŒ·,Collection of flowers (rose
ğŸ’”,Broken Heart,Symbols & Signs,â¤ï¸ğŸ˜¡,Love and anger/pain lead to heartbreak
ğŸ’š,Green Heart,Symbols & Signs,â¤ï¸ğŸŒ±,Love for nature/plants
ğŸ’›,Yellow Heart,Symbols & Signs,â¤ï¸â˜€ï¸,Love for sunshine/happiness
ğŸ’œ,Purple Heart,Symbols & Signs,â¤ï¸âœ¨,Love for magic/mystery (sparkles unlocked later)
ğŸ’¡,Light Bulb,Activities & Objects,ğŸ¤¯ğŸ‘,Mind blown leads to a bright idea
ğŸ’£,Bomb,Activities & Objects,ğŸ”¥ğŸ˜¡,Explosive anger
ğŸ’§,Droplet (Water),Animals & Nature,ğŸ˜¥ğŸ˜®,Tears or sweat from emotion
ğŸ’¨,Dash (Air/Wind),Animals & Nature,ğŸ˜®ğŸ˜®,Exhaling air in great surprise (alt to single ğŸ˜®)
ğŸ’ª,Flexed Biceps,Gestures,ğŸ˜¡ğŸ‘,Strength from determination/approval
ğŸ’¬,Speech Bubble,Symbols & Signs,ğŸ˜ŠğŸ—£ï¸,Happy to chat (speaking head unlocked later)
ğŸ’¯,Hundred Points,Symbols & Signs,ğŸ‘ğŸ‘ğŸ‘,
ğŸ’°,Money Bag,Activities & Objects,ğŸ¤‘ğŸ‘,Lots of money (money mouth face unlocked later)
ğŸ’»,Laptop,Activities & Objects,ğŸ“±ğŸ’¼,Portable computer for work
ğŸ’¾,Floppy Disk,Activities & Objects,ğŸ’»ğŸ˜¥,Old way to save data (sad it's obsolete)
ğŸ’¿,Optical Disk,Activities & Objects,ğŸ’¾âœ¨,Shiny new way to save data
ğŸ“€,DVD,Activities & Objects,ğŸ’¿ğŸ¬,Disk for movies (clapper board unlocked later)
ğŸ“…,Calendar,Activities & Objects,â˜€ï¸ğŸŒ™,Tracking days and nights
ğŸ“†,Tear-off Calendar,Activities & Objects,ğŸ“…ğŸ˜¥,Days passing by (sadly)
ğŸ“ˆ,Chart Increasing,Symbols & Signs,ğŸ’°ğŸ‘,Money going up
ğŸ“‰,Chart Decreasing,Symbols & Signs,ğŸ’°ğŸ˜¥,Money going down
ğŸ“Š,Bar Chart,Symbols & Signs,ğŸ“ˆğŸ“‰,Comparing data
ğŸ“Œ,Pushpin,Activities & Objects,ğŸ“ğŸ‘,To pin something (round pushpin is same)
ğŸ“,Round Pushpin,Travel & Places,ğŸ—ºï¸ğŸ“Œ,Mark a location on a map (world map unlocked later)
ğŸ“,Paperclips,Activities & Objects,ğŸ–‡ï¸ğŸ–‡ï¸,More paperclips
ğŸ“–,Open Book,Activities & Objects,ğŸ’¡ğŸŒ,Knowledge of the world
ğŸ“š,Books,Activities & Objects,ğŸ“–ğŸ“–,Many books
ğŸ“œ,Scroll,Activities & Objects,ğŸ“–ğŸ˜¥,Ancient
ğŸ“¦,Package,Activities & Objects,âœ‰ï¸ğŸ,A gift sent by mail
ğŸ“§,E-mail,Activities & Objects,âœ‰ï¸ğŸ’»,Electronic mail
ğŸ“®,Postbox,Activities & Objects,âœ‰ï¸ğŸ ,Place to send letters from home
ğŸ“°,Newspaper,Activities & Objects,ğŸŒğŸ—£ï¸,News from around the world
ğŸ“±,Mobile Phone,Activities & Objects,ğŸ—£ï¸ğŸ’¡,Device for communication and ideas
ğŸ“·,Camera,Activities & Objects,ğŸ‘€ğŸ’¡,Tool for capturing images
ğŸ“º,Television,Activities & Objects,ğŸ ğŸ¬,Watch movies at home
ğŸ”‘,Key,Activities & Objects,ğŸ”’ğŸ’¡,The idea to open a lock (lock unlocked later)
ğŸ”’,Lock,Activities & Objects,ğŸ”‘â“,Key for an unknown lock
ğŸ”Ÿ,Keycap Ten,Symbols & Signs,ğŸ’¯ğŸ‘,Unlocks with 100 (part 11)
ğŸ”¥,Fire,Animals & Nature,ğŸ˜¡ğŸ˜¡,Intense anger is like fire (already exists
ğŸ”ª,Kitchen Knife,Activities & Objects,ğŸ¥©ğŸ‘,Tool for cutting meat
ğŸ”«,Pistol,Activities & Objects,ğŸ˜¡ğŸ”¥,Dangerous weapon (metaphorical 'shooting hot anger')
ğŸ•Šï¸,Dove,Symbols & Signs,ğŸ¦â¤ï¸,Bird symbolizing peace and love
ğŸ•·ï¸,Spider,Animals & Nature,ğŸ›ğŸ•¸ï¸,Bug that spins webs (web unlocked later)
ğŸ•¹ï¸,Joystick,Activities & Objects,ğŸ®ğŸ‘,Game controller (game controller unlocked later)
ğŸ–‡ï¸,Paperclip,Activities & Objects,ğŸ“„ğŸ‘,Holds papers together (page facing up unlocked later)
ğŸ–‹ï¸,Fountain Pen,Activities & Objects,âœï¸ğŸ’§,Pen that uses ink (writing hand
ğŸ–Œï¸,Paintbrush,Activities & Objects,ğŸ¨ğŸªµ,Tool for painting (wood for handle)
ğŸ–ï¸,Crayon,Activities & Objects,ğŸ¨ğŸ˜Š,Simple coloring tool for fun
ğŸ–¤,Black Heart,Symbols & Signs,ğŸ’”ğŸ˜¥,Deep sorrow
ğŸ–¥ï¸,Desktop Computer,Activities & Objects,ğŸ’»ğŸ ,Computer for home/office
ğŸ–¼ï¸,Framed Picture,Activities & Objects,ğŸ“·â¤ï¸,A loved photo in a frame
ğŸ—‘ï¸,Wastebasket,Activities & Objects,ğŸ“„ğŸ˜¥,Throwing away sad paper/mistakes
ğŸ—ï¸,Rolled-up Newspaper,Activities & Objects,ğŸ“°ğŸ‘,Newspaper ready for delivery/reading
ğŸ—£ï¸,Speaking Head,Faces & Emotions,ğŸ˜®ğŸ’¬,Surprised by speech (speech bubble unlocked by this)
ğŸ—¿,Moyai,Travel & Places,â›°ï¸ğŸ˜®,Mysterious stone statue
ğŸ˜‚,Face with Tears of Joy,Faces & Emotions,ğŸ˜†ğŸ˜­,Laughing so hard you cry
ğŸ˜…,Grinning Face with Sweat,Faces & Emotions,ğŸ˜†ğŸ˜¥,Laughing through sadness or awkwardness
ğŸ˜ˆ,Smiling Face with Horns,Fantasy & Concepts,ğŸ˜†ğŸ˜¡,Mischievous laughter and anger
ğŸ˜Š,Smiling Face with Smiling Eyes,Faces & Emotions,â¤ï¸ğŸ‘,Positive and loving approval
ğŸ˜Š,Smiling Face with Smiling Eyes,Faces & Emotions,ğŸ˜†ğŸ™,Joyful gratitude (Alternative)
ğŸ˜,Smiling Face with Heart-Eyes,Faces & Emotions,â¤ï¸â¤ï¸,Increased affection
ğŸ˜,Smirking Face,Faces & Emotions,â¤ï¸ğŸ˜†,Playful love and laughter
ğŸ˜’,Unamused Face,Faces & Emotions,ğŸ˜¥ğŸ˜¡,Sadness and anger leading to disapproval
ğŸ˜˜,Kissing Face,Faces & Emotions,â¤ï¸ğŸ˜Š,Love and a smile lead to a kiss
ğŸ˜¤,Face with Steam from Nose,Faces & Emotions,ğŸ˜®ğŸ˜¡,Surprise and anger
ğŸ˜¨,Fearful Face,Faces & Emotions,ğŸ˜®ğŸ˜¥,Surprise and sadness leading to fear
ğŸ˜­,Loudly Crying Face,Faces & Emotions,ğŸ˜¥ğŸ˜¥,Intense sadness
ğŸ˜²,Astonished Face,Faces & Emotions,ğŸ˜†ğŸ˜®,Laughter and surprise combined
ğŸ˜´,Sleeping Face,Faces & Emotions,ğŸ˜¥ğŸŒ™,Tired at night
ğŸ™Œ,Raising Hands,Gestures,ğŸ‘ğŸ‘,Strong agreement
ğŸ™,Folded Hands,Gestures,ğŸ˜¥ğŸ‘,Seeking comfort/help
ğŸš©,Triangular Flag,Symbols & Signs,â›³ğŸ‘,Marker flag (flag in hole unlocked later)
ğŸ›¡ï¸,Shield,Activities & Objects,ğŸ’ªğŸ‘,Strong defense
ğŸ¤,White Heart,Symbols & Signs,â¤ï¸ğŸ™,Love for peace/purity
ğŸ¤,Brown Heart,Symbols & Signs,â¤ï¸ğŸŒ,Love for earth/stability
ğŸ¤,Pinching Hand,Gestures,ğŸ‘â–,Thumbs up for something small
ğŸ¤”,Thinking Face,Faces & Emotions,ğŸ§ â“,Brainpower + Question (Question mark unlocked later)
ğŸ¤–,Robot,Fantasy & Concepts,ğŸ’¡ğŸ’ª,Intelligent and strong machine
ğŸ¤—,Hugging Face,Faces & Emotions,ğŸ˜ŠğŸ¥°,Gentle happiness and love combine into a hug
ğŸ¤ ,Cowboy Hat Face,People & Fantasy,ğŸ˜ŠğŸ´,Happy person with a horse (horse unlocked later)
ğŸ¤¡,Clown Face,Fantasy & Concepts,ğŸ¥³ğŸ˜¥,Party face but also sad (classic clown)
ğŸ¤£,Rolling on the Floor Laughing,Faces & Emotions,ğŸ˜†ğŸ˜†,Intense laughter
ğŸ¤¤,Drooling Face,Faces & Emotions,ğŸ˜‹ğŸ’§,Savoring food so much you drool
ğŸ¤¥,Lying Face,Faces & Emotions,ğŸ‘ƒâ–,Growing nose (minus sign for 'less truth')
ğŸ¤©,Star-Struck,Faces & Emotions,â¤ï¸ğŸ˜®,Amazed by something loved
ğŸ¤ª,Zany Face,Faces & Emotions,ğŸ˜†ğŸ¤¯,Laughing your mind out
ğŸ¤«,Shushing Face,Faces & Emotions,ğŸ˜®ğŸ¤,Surprised into silence (Zipper mouth unlocked later)
ğŸ¤¬,Face with Symbols on Mouth,Faces & Emotions,ğŸ˜¡ğŸ˜¡,Intense anger
ğŸ¤¯,Exploding Head,Faces & Emotions,ğŸ˜®ğŸ˜®,Mind blown by surprise
ğŸ¥€,Wilted Flower,Animals & Nature,ğŸŒ¹ğŸ˜¥,Dying flower
ğŸ¥,Drum,Activities & Objects,ğŸ¶ğŸ˜¡,Percussion instrument
ğŸ¥‚,Clinking Glasses,Food & Drink,ğŸ¾ğŸ¾,Cheers with champagne
ğŸ¥ƒ,Tumbler Glass (Whiskey),Food & Drink,ğŸ”¥ğŸ’§,Strong alcoholic drink
ğŸ¥,Croissant,Food & Drink,ğŸğŸŒ™,Crescent-shaped pastry
ğŸ¥‘,Avocado,Food & Drink,ğŸŒ³ğŸ’š,Green fruit with a large pit
ğŸ¥’,Cucumber,Food & Drink,ğŸ’§ğŸ’š,Cool green vegetable
ğŸ¥“,Bacon,Food & Drink,ğŸ·ğŸ”¥,Cooked pork (pig unlocked later)
ğŸ¥”,Potato,Food & Drink,ğŸŒğŸŒ±,Root vegetable
ğŸ¥•,Carrot,Food & Drink,ğŸ°ğŸ§¡,Vegetable rabbits like (orange heart unlocked later)
ğŸ¥–,Baguette Bread,Food & Drink,ğŸğŸ‘,Long French bread
ğŸ¥—,Green Salad,Food & Drink,ğŸ¥¬ğŸ…,Mixed greens and tomato
ğŸ¥˜,Shallow Pan of Food (Paella),Food & Drink,ğŸšğŸ¦,Rice dish with seafood
ğŸ¥™,Stuffed Flatbread,Food & Drink,ğŸğŸ¥—,Bread with salad (salad unlocked later)
ğŸ¥š,Egg,Food & Drink,ğŸ”ğŸ˜®,Comes from a chicken
ğŸ¥›,Glass of Milk,Food & Drink,ğŸ®ğŸ‘,Drink from a cow
ğŸ¥œ,Peanuts,Food & Drink,ğŸ˜ğŸŒ,Food elephants like
ğŸ¥,Kiwifruit,Food & Drink,ğŸ“ğŸ’š,Fuzzy brown fruit
ğŸ¥,Pancakes,Food & Drink,ğŸ³ğŸ¥›,Breakfast food (egg
ğŸ¥Ÿ,Dumpling,Food & Drink,ğŸ¥¡ğŸ‘,Chinese food (takeout box unlocked later)
ğŸ¥¡,Takeout Box,Food & Drink,ğŸ¥¡ğŸ‘,Container for Chinese food
ğŸ¥£,Bowl with Spoon,Food & Drink,ğŸ²ğŸ‘,Ready to eat from a bowl
ğŸ¥¤,Cup with Straw,Food & Drink,ğŸ’§ğŸ‘,Drink container
ğŸ¥¥,Coconut,Food & Drink,ğŸŒ´ğŸ’§,Tropical fruit with water inside (palm tree unlocked later)
ğŸ¥¦,Broccoli,Food & Drink,ğŸŒ³ğŸ’š,Tree-like green vegetable
ğŸ¥§,Pie,Food & Drink,ğŸğŸ”¥,Baked fruit dish
ğŸ¥¨,Pretzel,Food & Drink,ğŸ¥–â¤ï¸,Twisted salty bread
ğŸ¥©,Cut of Meat,Food & Drink,ğŸ®ğŸ”¥,Cooked beef/steak
ğŸ¥ª,Sandwich,Food & Drink,ğŸğŸ¥¬,Greens between bread
ğŸ¥«,Canned Food,Food & Drink,ğŸ¥«ğŸ‘,Food in a can (placeholder for can itself)
ğŸ¥¬,Leafy Green,Food & Drink,ğŸŒ±ğŸ’š,Salad green
ğŸ¥­,Mango,Food & Drink,ğŸâ˜€ï¸,Sweet tropical fruit
ğŸ¥¯,Bagel,Food & Drink,ğŸğŸ˜®,Bread with a hole
ğŸ¥°,Smiling Face with Hearts,Faces & Emotions,ğŸ˜â¤ï¸,Overwhelming affection (alt: â¤ï¸
ğŸ¥³,Partying Face,Faces & Emotions,ğŸ˜†ğŸ‘,Joyful approval
ğŸ¥´,Woozy Face,Faces & Emotions,ğŸ˜µğŸ˜¥,Dizzy and unwell (dizzy face unlocked later)
ğŸ¥¶,Cold Face,Faces & Emotions,ğŸ˜¥ğŸ§Š,Sad and freezing (ice unlocked later)
ğŸ¥º,Pleading Face,Faces & Emotions,â¤ï¸ğŸ˜¥,Pleading for affection or comfort
ğŸ¦€,Crab,Food & Drink,ğŸŒŠğŸ‘,Sea creature that walks sideways
ğŸ¦,Lion Face,Animals & Nature,ğŸ¯â˜€ï¸,King of the jungle (sun = kingly)
ğŸ¦‚,Scorpion,Animals & Nature,ğŸ•·ï¸ğŸ˜¡,Dangerous arachnid
ğŸ¦ƒ,Turkey,Food & Drink,ğŸ”ğŸ¥³,Bird often eaten at celebrations
ğŸ¦„,Unicorn Face,Fantasy & Concepts,ğŸ´â­,Magical horse
ğŸ¦‡,Bat,Animals & Nature,ğŸ¦ğŸŒ™,Nocturnal flying mammal (alternative)
ğŸ¦ˆ,Shark,Animals & Nature,ğŸŒŠğŸ˜¡,Fearsome predator of the sea
ğŸ¦‰,Owl,Animals & Nature,ğŸ¦ğŸŒ™,Nocturnal bird
ğŸ¦Š,Fox Face,Animals & Nature,ğŸ¾ğŸŒ³,Sly animal of the forest
ğŸ¦‹,Butterfly,Animals & Nature,ğŸ›ğŸ’¨,Bug that transforms and flies
ğŸ¦Œ,Deer,Animals & Nature,ğŸŒ³ğŸ¾,Forest animal with antlers
ğŸ¦,Gorilla,Animals & Nature,ğŸ’ğŸ˜¡,Large
ğŸ¦,Lizard,Animals & Nature,ğŸâ˜€ï¸,Reptile that basks in the sun
ğŸ¦,Rhinoceros,Animals & Nature,ğŸŒğŸ˜¡,Large horned land animal
ğŸ¦,Shrimp,Food & Drink,ğŸŒŠğŸ¤,Small sea creature (pinching hand unlocked later)
ğŸ¦‘,Squid,Animals & Nature,ğŸŒŠğŸ’¨,Sea creature that propels itself
ğŸ¦’,Giraffe,Animals & Nature,ğŸŒ³ğŸ˜®,Tall animal that eats from tall trees
ğŸ¦“,Zebra,Animals & Nature,ğŸ´ç¸,Striped horse-like animal
ğŸ¦•,Sauropod,Fantasy & Concepts,ğŸ¦ğŸŒ³,Large
ğŸ¦–,T-Rex,Fantasy & Concepts,ğŸ¦ğŸ˜¡,Large
ğŸ¦—,Cricket,Animals & Nature,ğŸ›ğŸŒ™,Insect heard at night
ğŸ¦˜,Kangaroo,Animals & Nature,ğŸŒğŸ’¨,Hopping animal from Australia
ğŸ¦š,Peacock,Animals & Nature,ğŸ¦ğŸ¤©,Bird with stunning feathers
ğŸ¦›,Hippopotamus,Animals & Nature,ğŸŒğŸ’§,Large land/water animal
ğŸ¦œ,Parrot,Animals & Nature,ğŸ¦ğŸ’¬,Bird that can talk
ğŸ¦,Raccoon,Animals & Nature,ğŸ¾ğŸ—‘ï¸,Nocturnal animal known for going through trash (trash can unlocked later)
ğŸ¦,Lobster,Food & Drink,ğŸ¦ğŸ˜¡,Larger
ğŸ¦¡,Badger,Animals & Nature,ğŸ¾ğŸ˜¡,Tenacious burrowing animal
ğŸ¦¢,Swan,Animals & Nature,ğŸ¦â¤ï¸,Graceful
ğŸ¦¤,Dodo,Animals & Nature,ğŸ¦ğŸ’€,Extinct bird
ğŸ¦¥,Sloth,Animals & Nature,ğŸŒ³ğŸ˜´,Slow-moving tree dweller (sleeping face unlocked later)
ğŸ¦¦,Otter,Animals & Nature,ğŸŒŠğŸ˜†,Playful water mammal
ğŸ¦§,Orangutan,Animals & Nature,ğŸ’ğŸŒ³,Tree-dwelling ape
ğŸ¦¨,Skunk,Animals & Nature,ğŸ¾ğŸ’¨,Animal known for its smelly spray
ğŸ¦©,Flamingo,Animals & Nature,ğŸ¦ğŸ¦,Pink bird that eats shrimp
ğŸ¦¬,Bison,Animals & Nature,ğŸ®ğŸŒ,Large bovine from plains
ğŸ¦®,Guide Dog,Animals & Nature,ğŸ•ğŸ¦¯,Dog that helps people (probing cane unlocked later)
ğŸ¦´,Bone,Animals & Nature,ğŸ˜¥ğŸ’€,Sad remains (skull unlocked later)
ğŸ§€,Cheese,Food & Drink,ğŸ¥›ğŸŒ™,Milk aged under the moon (creative logic)
ğŸ§,Cupcake,Food & Drink,ğŸ°ğŸ˜Š,Small individual cake
ğŸ§‚,Salt,Food & Drink,ğŸŒŠâ˜€ï¸,Evaporated sea water
ğŸ§„,Garlic,Food & Drink,ğŸ’¡ğŸ˜¡,Strong-flavored bulb
ğŸ§…,Onion,Food & Drink,ğŸ˜­ğŸŒ±,Vegetable that makes you cry
ğŸ§†,Falafel,Food & Drink,ğŸŒ±ğŸ”¥,Fried chickpea balls
ğŸ§‡,Waffle,Food & Drink,ğŸ¥ğŸ¥…,Pancakes with a grid pattern (goal net for grid)
ğŸ§ˆ,Butter,Food & Drink,ğŸ¥›ğŸ‘,Dairy product from milk
ğŸ§‹,Bubble Tea,Food & Drink,ğŸ¥¤âš«,Tea with tapioca pearls (black circle for pearls)
ğŸ§ ,Brain,Faces & Emotions,ğŸ¤¯ğŸ’¡,Exploding head + idea = brain power
ğŸ§¡,Orange Heart,Symbols & Signs,â¤ï¸ğŸ”¥,Love for warmth/passion
ğŸ§¸,Teddy Bear,Activities & Objects,ğŸ»â¤ï¸,Lovable bear toy (bear unlocked later)
ğŸ©·,Pink Heart,Symbols & Signs,â¤ï¸ğŸ˜Š,Sweet
ğŸª´,Potted Plant,Animals & Nature,ğŸŒ±ğŸº,Plant in a pot (amphora/pot unlocked later)
ğŸªµ,Wood,Animals & Nature,ğŸŒ³ğŸ”¥,Tree processed by fire/cutting
`;

        const initialPlayerEmojis = Object.freeze(['â¤ï¸', 'ğŸ˜†', 'ğŸ˜®', 'ğŸ˜¥', 'ğŸ˜¡', 'ğŸ‘']);
        let currentPlayerEmojis = new Set(initialPlayerEmojis);
        const reactionRules = {}; // Stores input sequences as keys and arrays of output emojis as values
        let allPossibleOutputEmojis = new Set(); // All unique emojis that can be received as reactions
        let discoveredEmojisByPlayer = new Set(initialPlayerEmojis); // Emojis player has unlocked (starts with initial)

        let currentPostArray = []; // Array to hold emojis for the current post being built

        // DOM Element References
        const messageList = document.getElementById('message-list');
        const currentPostDisplay = document.getElementById('current-post-display');
        const emojiPalette = document.getElementById('emoji-palette');
        const sendButton = document.getElementById('send-button');
        const backspaceButton = document.getElementById('backspace-button');
        const progressCounter = document.getElementById('progress-counter');
        
        const unlockedEmojisModal = document.getElementById('unlocked-emojis-modal');
        const unlockedEmojisGrid = document.getElementById('unlocked-emojis-grid');
        const toggleUnlockedViewButton = document.getElementById('toggle-unlocked-view-button');
        const closeUnlockedViewButton = document.getElementById('close-unlocked-view-button');

        const instructionsModal = document.getElementById('instructions-modal');
        const showInstructionsButton = document.getElementById('show-instructions-button');
        const closeInstructionsButton = document.getElementById('close-instructions-button');
        const instructionsModalOkButton = document.getElementById('instructions-modal-ok-button');
        
        const winModal = document.getElementById('win-modal');
        const winModalTotalEmojis = document.getElementById('win-modal-total-emojis');
        const playAgainButton = document.getElementById('play-again-button');

        /**
         * Parses the CSV data string to populate reactionRules and allPossibleOutputEmojis.
         * It expects the CSV to have a header row, and then rows with:
         * Output Emoji, ..., Input Emojis, ...
         * It specifically uses the first column for Output Emoji and the fourth for Input Emojis.
         */
        function parseCSVData() {
            // Clear previous rules if any (for reset functionality)
            for (const key in reactionRules) {
                delete reactionRules[key];
            }
            allPossibleOutputEmojis.clear();

            const lines = csvData.trim().split('\n');
            if (lines.length <= 1) {
                console.error("CSV data is empty or has only a header.");
                return;
            }
            lines.shift(); // Remove header line: "Output Emoji,Output Unicode,Output Name,Category,Input Emojis,Input Unicodes,Notes"

            lines.forEach(line => {
                const parts = line.split(','); // Simple CSV split
                // We need "Output Emoji" (index 0) and "Input Emojis" (index 3)
                if (parts.length > 3) { 
                    const outputEmoji = parts[0].trim();
                    const inputSeq = parts[3].trim();

                    if (inputSeq && outputEmoji) {
                        allPossibleOutputEmojis.add(outputEmoji);
                        
                        // Normalize the entire raw input string from CSV first
                        const normalizedCsvInputString = normalizeEmoji(inputSeq);
                        
                        // Create a canonical (sorted) key for the input sequence
                        const emojisInSeq = Array.from(normalizedCsvInputString); // Correctly splits multi-byte Unicode chars
                        emojisInSeq.sort(); // Sorts the emojis alphabetically/by Unicode
                        const canonicalInputSeq = emojisInSeq.join('');

                        if (!reactionRules[canonicalInputSeq]) {
                            reactionRules[canonicalInputSeq] = [];
                        }
                        // Avoid adding duplicate output emojis for the same input sequence
                        if (!reactionRules[canonicalInputSeq].includes(outputEmoji)) {
                           reactionRules[canonicalInputSeq].push(outputEmoji);
                        }
                    } else {
                        // console.warn("Skipping line due to missing input/output emoji:", line);
                    }
                } else {
                    // console.warn("Skipping malformed CSV line:", line);
                }
            });
            // Add initial emojis to the discovered set as they are "known" from the start
            initialPlayerEmojis.forEach(emoji => discoveredEmojisByPlayer.add(emoji));
        }

        /**
         * Renders the player's currently available emojis in the palette.
         * Emojis are sorted for consistent display.
         */
        function renderEmojiPalette() {
            emojiPalette.innerHTML = '';
            const sortedPaletteEmojis = Array.from(currentPlayerEmojis).sort();
            
            sortedPaletteEmojis.forEach(emoji => {
                const button = document.createElement('button');
                button.textContent = emoji;
                button.classList.add('emoji-button', 'text-2xl', 'p-1', 'rounded-md', 'hover:bg-gray-300', 'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-400');
                button.onclick = () => addEmojiToPost(emoji);
                emojiPalette.appendChild(button);
            });
        }
        
        /**
         * Updates the display of the current post being composed by the player.
         */
        function renderCurrentPostDisplay() {
            currentPostDisplay.textContent = currentPostArray.join('');
        }

        /**
         * Adds an emoji to the current post array and updates the display.
         * @param {string} emoji - The emoji character to add.
         */
        function addEmojiToPost(emoji) {
            currentPostArray.push(emoji);
            renderCurrentPostDisplay();
        }

        /**
         * Removes the last emoji from the current post array and updates the display.
         */
        function removeLastEmojiFromPost() {
            if (currentPostArray.length > 0) {
                currentPostArray.pop();
                renderCurrentPostDisplay();
            }
        }

        /**
         * Adds a chat message to the message list in the UI.
         * @param {string} sender - 'player' or 'system'.
         * @param {string} emojiString - The emoji or text content of the message.
         */
        function addChatMessage(sender, emojiString) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('flex', sender === 'player' ? 'player-message' : 'system-message');
            
            const bubbleDiv = document.createElement('div');
            bubbleDiv.classList.add('chat-bubble', 'text-xl');
            bubbleDiv.textContent = emojiString;
            
            messageDiv.appendChild(bubbleDiv);
            messageList.appendChild(messageDiv);
            // Ensure the chat window scrolls to the latest message
            messageList.scrollTop = messageList.scrollHeight;
        }

        /**
         * Updates the progress counter (discovered / total).
         * Also re-renders the unlocked emojis grid to reflect any changes.
         */
        function updateProgress() {
            // Filter allPossibleOutputEmojis to only include those that are *actually* outputs of rules
            // This is to avoid counting emojis that might be in the initial set but not an output of any rule.
            const trulyDiscoverableCount = Array.from(allPossibleOutputEmojis).filter(emoji => !initialPlayerEmojis.includes(emoji)).length;
            const discoveredCount = Array.from(discoveredEmojisByPlayer).filter(emoji => !initialPlayerEmojis.includes(emoji)).length;
            
            // The total in progress should be all emojis that can be unlocked through rules.
            // The discovered count should be how many of THOSE the player has found.
            progressCounter.textContent = `Discovered: ${discoveredCount} / ${trulyDiscoverableCount}`;

            renderUnlockedEmojisGrid(); // Update the visual grid of all emojis
        }


        /**
         * Checks if the player has discovered all possible output emojis.
         * If so, displays the win modal.
         */
        function checkWinCondition() {
            // Consider "won" if all emojis that are *outputs* of rules have been discovered.
            let allOutputsDiscovered = true;
            if (allPossibleOutputEmojis.size === 0) { // No rules, no win possible
                allOutputsDiscovered = false;
            } else {
                for (const emoji of allPossibleOutputEmojis) {
                    if (!discoveredEmojisByPlayer.has(emoji)) {
                        allOutputsDiscovered = false;
                        break;
                    }
                }
            }

            if (allOutputsDiscovered) {
                winModalTotalEmojis.textContent = allPossibleOutputEmojis.size;
                winModal.style.display = 'flex';
            }
        }
        
        /**
         * Normalizes an emoji string by removing common variation selectors (VS15, VS16).
         * This helps in treating different Unicode representations of the same visual emoji consistently.
         * @param {string} emojiStr - The emoji string to normalize.
         * @returns {string} The normalized emoji string.
         */
        const normalizeEmoji = (emojiStr) => {
            if (typeof emojiStr !== 'string') return '';
            // Remove U+FE0E (VS15 - text presentation) and U+FE0F (VS16 - emoji presentation)
            return emojiStr.replace(/[\uFE0E\uFE0F]/g, '');
        };

        /**
         * Handles the logic when the player sends a post.
         * It checks the post against reactionRules and updates the game state.
         */
        function handleSendPost() {
            if (currentPostArray.length === 0) return;

            const postString = currentPostArray.join('');
            addChatMessage('player', postString);

            // Normalize each emoji string in the player's current post array
            const normalizedPlayerArray = currentPostArray.map(emojiUnit => normalizeEmoji(emojiUnit));
            
            // Sort the array of normalized emoji strings
            normalizedPlayerArray.sort();
            const canonicalPostString = normalizedPlayerArray.join('');

            let reacted = false;
            if (reactionRules[canonicalPostString]) {
                const reactionEmojis = reactionRules[canonicalPostString]; // This is an array
                reactionEmojis.forEach(reactionEmoji => {
                    addChatMessage('system', reactionEmoji);
                    // Add to player's usable emojis if it's new
                    currentPlayerEmojis.add(reactionEmoji); 
                    // Add to player's discovered set if it's a discoverable output emoji
                    if (allPossibleOutputEmojis.has(reactionEmoji)) {
                        discoveredEmojisByPlayer.add(reactionEmoji);
                    }
                });
                reacted = true;
                renderEmojiPalette(); // Update palette if new emojis were unlocked
            }
            
            if (!reacted) {
                addChatMessage('system', 'ğŸ˜µâ€ğŸ’«'); // Confused emoji for no match
            }

            currentPostArray = []; // Clear the current post
            renderCurrentPostDisplay();
            updateProgress();
            checkWinCondition();
        }

        /**
         * Renders the grid of all discoverable emojis, marking locked/unlocked status.
         * Emojis are sorted for consistent display.
         */
        function renderUnlockedEmojisGrid() {
            unlockedEmojisGrid.innerHTML = '';
            // Sort all discoverable emojis for a consistent display in the modal
            const sortedAllDiscoverable = Array.from(allPossibleOutputEmojis).sort();

            sortedAllDiscoverable.forEach(emoji => {
                const item = document.createElement('div');
                item.textContent = emoji;
                item.classList.add('emoji-grid-item', 'p-1', 'rounded');
                if (!discoveredEmojisByPlayer.has(emoji)) {
                    item.classList.add('locked'); // Style for not-yet-discovered emojis
                }
                unlockedEmojisGrid.appendChild(item);
            });
        }

        /**
         * Toggles the visibility of the "Unlocked Emojis" modal.
         * @param {boolean} show - True to show the modal, false to hide.
         */
        function toggleUnlockedView(show) {
            unlockedEmojisModal.style.display = show ? 'flex' : 'none';
            if (show) {
                renderUnlockedEmojisGrid(); // Refresh grid content when shown
            }
        }
        
        /**
         * Resets the game to its initial state.
         */
        function resetGame() {
            currentPlayerEmojis = new Set(initialPlayerEmojis);
            discoveredEmojisByPlayer = new Set(initialPlayerEmojis); // Reset to only initial emojis
            currentPostArray = [];
            
            // Clear existing messages and add the initial reset message
            messageList.innerHTML = `
                <div class="system-message flex">
                    <div class="chat-bubble text-sm">
                        Game Reset! Create emoji posts to unlock new emojis. Start with â¤ï¸ğŸ˜†ğŸ˜®ğŸ˜¥ğŸ˜¡ğŸ‘. Good luck!
                        <button id="show-instructions-button-reset" class="ml-2 text-xs underline text-blue-500">(Show Full Instructions)</button>
                    </div>
                </div>`;
            
            // Re-attach listener for the new instructions button after clearing messageList
            const newShowInstructionsButton = document.getElementById('show-instructions-button-reset');
            if(newShowInstructionsButton) {
                newShowInstructionsButton.onclick = () => instructionsModal.style.display = 'flex';
            } else {
                // Fallback if the original button in the header is still the one to use
                 const originalShowInstructionsButton = document.getElementById('show-instructions-button');
                 if(originalShowInstructionsButton) originalShowInstructionsButton.onclick = () => instructionsModal.style.display = 'flex';
            }

            parseCSVData(); // Re-parse to ensure allPossibleOutputEmojis is correctly repopulated
            renderEmojiPalette();
            renderCurrentPostDisplay();
            updateProgress(); // This will also call renderUnlockedEmojisGrid
            winModal.style.display = 'none';
            unlockedEmojisModal.style.display = 'none';
        }

        /**
         * Initializes the game: parses data, sets up UI, and attaches event listeners.
         */
        function initializeGame() {
            parseCSVData(); // Parse rules first
            renderEmojiPalette();
            renderCurrentPostDisplay();
            updateProgress(); // Initial call to set up progress and unlocked grid
            
            // Attach event listeners to buttons
            sendButton.onclick = handleSendPost;
            backspaceButton.onclick = removeLastEmojiFromPost;

            toggleUnlockedViewButton.onclick = () => toggleUnlockedView(true);
            closeUnlockedViewButton.onclick = () => toggleUnlockedView(false);
            
            const initialShowInstructionsButton = document.getElementById('show-instructions-button');
            if(initialShowInstructionsButton) initialShowInstructionsButton.onclick = () => instructionsModal.style.display = 'flex';
            
            closeInstructionsButton.onclick = () => instructionsModal.style.display = 'none';
            instructionsModalOkButton.onclick = () => instructionsModal.style.display = 'none';

            playAgainButton.onclick = resetGame;

            // Event listener to close modals when clicking outside their content area
            window.onclick = function(event) {
                if (event.target == instructionsModal) {
                    instructionsModal.style.display = "none";
                }
                if (event.target == unlockedEmojisModal) {
                    unlockedEmojisModal.style.display = "none";
                }
                // Note: Win modal is intentionally not closed by outside click; requires "Play Again".
            }
        }

        // Start the game once the DOM is fully loaded and ready
        document.addEventListener('DOMContentLoaded', initializeGame);

    </script>
</body>
</html>
